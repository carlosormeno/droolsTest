<p>rules-manager works!</p>
<div class="rules-manager-container">
  <div class="header-section">
    <h1>
      <mat-icon>rule</mat-icon>
      Gestor de Reglas de Negocio
    </h1>
    <p>Crea, edita y gestiona las reglas que definen la lógica de tu negocio</p>
  </div>

  <div class="content-grid">
    <div class="form-section">
      <mat-card class="form-card">
        <mat-card-header>
          <!--
          <mat-card-title>
            <mat-icon>{{ isEditing ? 'edit' : 'add' }}</mat-icon>
            {{ isEditing ? 'Editar Regla' : 'Crear Nueva Regla' }}
          </mat-card-title>
          -->

          <!-- ✅ Botón para crear nueva regla cuando no se muestra formulario -->
          <div *ngIf="!showRuleForm" class="header-actions">
            <button mat-raised-button color="primary" (click)="createNewRule()">
              <mat-icon>add</mat-icon>
              Nueva Regla
            </button>
          </div>
        </mat-card-header>

        <mat-card-content>
          <!-- ✅ Mostrar formulario cuando showRuleForm = true -->
          <app-rule-form
            *ngIf="showRuleForm"
            [editingRule]="selectedRule"
            (ruleCreated)="onRuleCreated($event)"
            (ruleUpdated)="onRuleUpdated($event)"
            (cancelled)="onRuleFormCancelled()">
          </app-rule-form>

          <!-- ✅ Mensaje cuando no se muestra el formulario -->
          <div *ngIf="!showRuleForm" class="no-selection">
            <mat-icon>info</mat-icon>
            <p>Selecciona una regla para editar o crea una nueva regla</p>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="list-section">
      <mat-card class="list-card">
        <mat-card-header>
          <mat-card-title>
            <mat-icon>list</mat-icon>
            Reglas Existentes ({{ rules.length }})
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <app-rules-list
            [rules]="rules"
            (editRule)="onEditRule($event)"
            (deleteRule)="onDeleteRule($event)"
            (toggleRule)="onToggleRule($event)">
          </app-rules-list>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
